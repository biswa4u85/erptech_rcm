{
  "version": 3,
  "sources": ["../../../../../apps/erptech_rcm/erptech_rcm/custom_scripts/frappe/form.js"],
  "sourcesContent": ["frappe.ui.form.Form = class extends frappe.ui.form.Form{\n\tsavesubmit(btn, callback, on_error) {\n\t\tvar me = this;\n\t\treturn new Promise(resolve => {\n\t\t\tthis.validate_form_action(\"Submit\");\n\t\t\tif(this.doctype == 'POS Invoice'){\n\t\t\t\tme.submit_confirmed(btn, callback, on_error, resolve);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfrappe.confirm(__(\"Permanently Submit {0}?\", [this.docname]), function() {\n\t\t\t\t\tme.submit_confirmed(btn, callback, on_error);\n\t\t\t\t}, function(){\n\t\t\t\t\tme.handle_save_fail(btn, on_error, resolve);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsubmit_confirmed(btn, callback, on_error, resolve){\n\t\tvar me = this;\n\t\tfrappe.validated = true;\n\t\tme.script_manager.trigger(\"before_submit\").then(function() {\n\t\t\tif(!frappe.validated) {\n\t\t\t\treturn me.handle_save_fail(btn, on_error);\n\t\t\t}\n\n\t\t\tme.save('Submit', function(r) {\n\t\t\t\tif(r.exc) {\n\t\t\t\t\tme.handle_save_fail(btn, on_error);\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.utils.play_sound(\"submit\");\n\t\t\t\t\tcallback && callback();\n\t\t\t\t\tme.script_manager.trigger(\"on_submit\")\n\t\t\t\t\t\t.then(() => resolve(me))\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tif (frappe.route_hooks.after_submit) {\n\t\t\t\t\t\t\t\tlet route_callback = frappe.route_hooks.after_submit;\n\t\t\t\t\t\t\t\tdelete frappe.route_hooks.after_submit;\n\t\t\t\t\t\t\t\troute_callback(me);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, btn, () => me.handle_save_fail(btn, on_error), resolve);\n\t\t});\n\t}\n}\n"],
  "mappings": "MAAA,OAAO,GAAG,KAAK,KAAO,cAAc,OAAO,GAAG,KAAK,IAAI,CACtD,WAAWA,EAAKC,EAAUC,EAAU,CACnC,IAAIC,EAAK,KACT,OAAO,IAAI,QAAQC,GAAW,CAC7B,KAAK,qBAAqB,QAAQ,EAC/B,KAAK,SAAW,cAClBD,EAAG,iBAAiBH,EAAKC,EAAUC,EAAUE,CAAO,EAGpD,OAAO,QAAQ,GAAG,0BAA2B,CAAC,KAAK,OAAO,CAAC,EAAG,UAAW,CACxED,EAAG,iBAAiBH,EAAKC,EAAUC,CAAQ,CAC5C,EAAG,UAAU,CACZC,EAAG,iBAAiBH,EAAKE,EAAUE,CAAO,CAC3C,CAAC,CAEH,CAAC,CACF,CAEA,iBAAiBJ,EAAKC,EAAUC,EAAUE,EAAQ,CACjD,IAAID,EAAK,KACT,OAAO,UAAY,GACnBA,EAAG,eAAe,QAAQ,eAAe,EAAE,KAAK,UAAW,CAC1D,GAAG,CAAC,OAAO,UACV,OAAOA,EAAG,iBAAiBH,EAAKE,CAAQ,EAGzCC,EAAG,KAAK,SAAU,SAASE,EAAG,CAC1BA,EAAE,IACJF,EAAG,iBAAiBH,EAAKE,CAAQ,GAEjC,OAAO,MAAM,WAAW,QAAQ,EAChCD,GAAYA,EAAS,EACrBE,EAAG,eAAe,QAAQ,WAAW,EACnC,KAAK,IAAMC,EAAQD,CAAE,CAAC,EACtB,KAAK,IAAM,CACX,GAAI,OAAO,YAAY,aAAc,CACpC,IAAIG,EAAiB,OAAO,YAAY,aACxC,OAAO,OAAO,YAAY,aAC1BA,EAAeH,CAAE,CAClB,CACD,CAAC,EAEJ,EAAGH,EAAK,IAAMG,EAAG,iBAAiBH,EAAKE,CAAQ,EAAGE,CAAO,CAC1D,CAAC,CACF,CACD",
  "names": ["btn", "callback", "on_error", "me", "resolve", "r", "route_callback"]
}
