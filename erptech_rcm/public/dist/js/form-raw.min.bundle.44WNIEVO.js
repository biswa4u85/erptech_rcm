(()=>{frappe.ui.form.Form=class extends frappe.ui.form.Form{savesubmit(i,f,t){var a=this;return new Promise(e=>{this.validate_form_action("Submit"),this.doctype=="POS Invoice"?a.submit_confirmed(i,f,t,e):frappe.confirm(__("Permanently Submit {0}?",[this.docname]),function(){a.submit_confirmed(i,f,t)},function(){a.handle_save_fail(i,t,e)})})}submit_confirmed(i,f,t,a){var e=this;frappe.validated=!0,e.script_manager.trigger("before_submit").then(function(){if(!frappe.validated)return e.handle_save_fail(i,t);e.save("Submit",function(s){s.exc?e.handle_save_fail(i,t):(frappe.utils.play_sound("submit"),f&&f(),e.script_manager.trigger("on_submit").then(()=>a(e)).then(()=>{if(frappe.route_hooks.after_submit){let m=frappe.route_hooks.after_submit;delete frappe.route_hooks.after_submit,m(e)}}))},i,()=>e.handle_save_fail(i,t),a)})}};})();
//# sourceMappingURL=form-raw.min.bundle.44WNIEVO.js.map
